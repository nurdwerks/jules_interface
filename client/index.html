<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jules API Interface</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for icons could be good, but I'll stick to text/unicode to avoid external deps if possible, or maybe basic SVGs -->
</head>
<body>
    <div id="app-shell">
        <aside id="activity-bar">
            <div class="activity-icon active" title="Explorer">
                <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 1h11a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5zm11 14V2H10v3.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V2H2.5v13h11zm-4-13.5V5h3V1.5h-3z"/></svg>
            </div>
            <div class="activity-icon" title="Search">
                 <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.68 11.74a6 6 0 0 1-7.922-8.98 6 6 0 0 1 8.98 7.92l3.134 3.134a.75.75 0 1 1-1.06 1.06l-3.133-3.134zm-7.922-7.92a4.5 4.5 0 1 1 6.364 6.364 4.5 4.5 0 0 1-6.364-6.364z"/></svg>
            </div>
        </aside>

        <aside id="sidebar">
            <div class="sidebar-title">
                <span>EXPLORER</span>
                <span class="sidebar-actions">...</span>
            </div>

            <div class="sidebar-section" style="display: flex; flex-direction: column; height: 100%;">
                <div class="section-header expanded">
                    <span class="codicon codicon-chevron-down">▼</span>
                    <span>SESSIONS</span>
                </div>

                <div class="sidebar-controls" style="padding: 5px 10px; display: flex; flex-direction: column; gap: 5px; border-bottom: 1px solid var(--border-color);">
                     <select id="filter-status" class="sidebar-select">
                        <option value="ALL">All Status</option>
                        <option value="QUEUED">Queued</option>
                        <option value="IN_PROGRESS">In Progress</option>
                        <option value="DONE">Done</option>
                        <option value="FAILED">Failed</option>
                     </select>
                     <select id="sort-order" class="sidebar-select">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                        <option value="name_asc">Name A-Z</option>
                        <option value="name_desc">Name Z-A</option>
                     </select>
                </div>

                <div id="session-list-sidebar" class="scrollable-content" style="flex: 1; padding: 0; overflow-y: auto;"></div>

                <div class="section-header">
                    <span>ACTIONS</span>
                </div>
                <nav id="explorer-nav">
                    <button id="nav-create" class="explorer-item">
                        <span class="icon">+</span> Create Session
                    </button>
                </nav>
            </div>
        </aside>

        <main id="editor-area">
            <div class="tabs-container">
                <div class="tab active">
                    <span class="tab-icon">JS</span>
                    <span class="tab-title">Jules Interface</span>
                    <span class="tab-close">×</span>
                </div>
            </div>

            <div class="content-container">
                <!-- Views will be injected here -->

                <section id="view-list" class="view">
                    <div class="view-header">
                        <h2>Welcome</h2>
                    </div>
                    <div class="scrollable-content" style="padding: 20px;">
                        <p>Select a session from the sidebar to view details.</p>
                    </div>
                </section>

                <section id="view-create" class="view hidden">
                    <div class="view-header">
                         <h2>Create New Session</h2>
                    </div>
                    <form id="create-session-form" class="scrollable-content">
                        <div class="form-group">
                            <label for="prompt">Prompt</label>
                            <textarea id="prompt" required placeholder="Describe what you want to build..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="source">Source</label>
                            <select id="source" required>
                                <option value="" disabled selected>Select a source...</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="branch">Starting Branch</label>
                            <input type="text" id="branch" value="main" required>
                        </div>

                        <button type="submit" class="primary-btn">Create Session</button>
                    </form>
                </section>

                <section id="view-details" class="view hidden">
                    <div class="view-header" style="display: flex; align-items: center;">
                        <button id="back-to-list" class="secondary-btn">← Back</button>
                        <h2 id="session-title" style="flex: 1; margin-left: 10px;">Session Details</h2>
                        <button id="refresh-session-btn" class="secondary-btn">Refresh</button>
                    </div>

                    <div class="split-view scrollable-content">
                        <div class="panel-left">
                            <div id="session-info" class="info-card"></div>

                            <h3>Actions</h3>
                            <div class="actions">
                                <div class="action-group">
                                    <textarea id="message-input" placeholder="Type a message to the agent..."></textarea>
                                    <button id="send-message-btn" class="primary-btn">Send Message</button>
                                </div>
                                <div class="action-group">
                                    <button id="approve-plan-btn" class="success-btn">Approve Plan</button>
                                </div>
                            </div>
                        </div>

                        <div class="panel-right">
                             <h3>Activities</h3>
                             <div id="activities-container"></div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <footer id="status-bar">
        <div class="status-left">
            <div class="status-item"><span class="icon">⑂</span> main*</div>
            <div class="status-item"><span class="icon">⊗</span> 0 <span class="icon">⚠</span> 0</div>
        </div>
        <div class="status-right">
            <div class="status-item">Ln 1, Col 1</div>
            <div class="status-item">UTF-8</div>
            <div class="status-item">JavaScript</div>
            <div class="status-item notification-icon">bell</div>
        </div>
    </footer>

    <div id="login-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Authentication Required</h2>
            <p>Please enter your credentials to connect.</p>
            <div class="form-group">
                <label for="username-input">Username</label>
                <input type="text" id="username-input" placeholder="Enter Username">
            </div>
            <div class="form-group">
                <label for="password-input">Password</label>
                <input type="password" id="password-input" placeholder="Enter Password">
            </div>
            <button id="login-btn" class="primary-btn" style="width: 100%;">Login</button>
            <div id="login-error" style="color: #f48771; margin-top: 10px; display: none;"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
